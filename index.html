<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>seine: Analyzing aggregate data • seine</title>
<!-- mathjax math --><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script><script>
  window.MathJax = {
    chtml: {
      fontURL: "https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/output/chtml/fonts/woff-v2"
    }
  };
</script><script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="seine: Analyzing aggregate data">
<meta name="description" content="The 'seine' R package allows researchers to learn individual-level
associations from aggregate-level data while controlling for confounding
variables with machine learning.
">
<meta property="og:description" content="The 'seine' R package allows researchers to learn individual-level
associations from aggregate-level data while controlling for confounding
variables with machine learning.
">
<meta property="og:image" content="https://corymccartan.com/seine/logo.svg">
<!-- Google tag (gtag.js) --><script async src="https://www.googletagmanager.com/gtag/js?id=G-2KH5JZ6JS1"></script><script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());

gtag('config', 'G-2KH5JZ6JS1');
</script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">seine</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="articles/seine.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/CoryMcCartan/seine/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header">
<img src="logo.svg" class="logo" alt=""><h1 id="seine-semiparametric-ecological-inference-">
<span style="color: #425682"><b>seine</b></span>: Semiparametric Ecological Inference 
<a class="anchor" aria-label="anchor" href="#seine-semiparametric-ecological-inference-"></a>
</h1>
</div>
<!-- badges: start -->

<p>Ecological inference (EI) is the statistical problem of learning individual-level associations from aggregate-level data. Without certain <em>identifying assumptions</em> and proper <em>estimation methods</em>, researchers can easily draw incorrect conclusions from aggregate data, finding patterns where none exist, missing important individual-level patterns, or even concluding an effect runs in the opposite direction than it actually does. This is known as the <em>ecological fallacy</em>.</p>
<p>The <strong>seine</strong> package allows researchers to perform modern ecological inference quickly, accurately, and transparently.</p>
<ul>
<li>
<strong>Double/debiased machine learning</strong> allows for controlling for confounding covariates, which increases the plausibility of identifying assumptions. Machine learning can be used to estimate the key regression model and avoid strong parametric assumptions made by existing EI methods.</li>
<li>
<strong>Sensitivity analysis</strong> and <strong>benchmarking</strong> let researchers understand how violations of their assumptions will affect results.</li>
<li>A <strong>tidy interface</strong> makes the package modular and easy to use, and works well with pipe-based workflows.</li>
<li>
<strong>Minimal dependencies</strong> and efficient estimation routines keep everything <strong>fast</strong> and lightweight.</li>
</ul>
<h2 id="seine-semiparametric-ecological-inference--1">
<span style="color: #e06666"><b>This software is experimental</b></span>
<a class="anchor" aria-label="anchor" href="#seine-semiparametric-ecological-inference--1"></a>
</h2>
<p><strong>seine</strong> and the underlying statistical methods are under active development. The package is not currently recommended for non-expert use.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of <strong>seine</strong> with</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"CoryMcCartan/seine"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<p>The package contains county-level data from the 1968 U.S. presidential election for southern states, where Hubert Humphrey (Democrat) ran against Richard Nixon (Republican) and George Wallace (independent; segregationist).</p>
<p>In this data, one might be interested in estimating vote choice by race. To do so, <strong>seine</strong> provides both a formula interface and a tidy interface through a new <code><a href="reference/ei_spec.html">ei_spec()</a></code> object. Here, we’ll demonstrate the latter.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/CoryMcCartan/seine" class="external-link">seine</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">elec_1968</span><span class="op">)</span></span>
<span></span>
<span><span class="va">spec</span> <span class="op">=</span> <span class="fu"><a href="reference/ei_spec.html">ei_spec</a></span><span class="op">(</span></span>
<span>    <span class="va">elec_1968</span>, </span>
<span>    predictors <span class="op">=</span> <span class="va">vap_white</span><span class="op">:</span><span class="va">vap_other</span>,</span>
<span>    outcome <span class="op">=</span> <span class="va">pres_dem_hum</span><span class="op">:</span><span class="va">pres_ind_wal</span>, </span>
<span>    total <span class="op">=</span> <span class="va">pres_total</span>,</span>
<span>    covariates <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">state</span>, <span class="va">pop_city</span><span class="op">:</span><span class="va">pop_rural</span>, <span class="va">farm</span><span class="op">:</span><span class="va">educ_coll</span>, </span>
<span>                   <span class="va">inc_00_03k</span><span class="op">:</span><span class="va">inc_25_99k</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">m</span> <span class="op">=</span> <span class="fu"><a href="reference/ei_ridge.html">ei_ridge</a></span><span class="op">(</span><span class="va">spec</span><span class="op">)</span></span>
<span><span class="va">rr</span> <span class="op">=</span> <span class="fu"><a href="reference/ei_riesz.html">ei_riesz</a></span><span class="op">(</span><span class="va">spec</span>, penalty <span class="op">=</span> <span class="va">m</span><span class="op">$</span><span class="va">penalty</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="reference/ei_est.html">ei_est</a></span><span class="op">(</span>regr <span class="op">=</span> <span class="va">m</span>, riesz <span class="op">=</span> <span class="va">rr</span>, data <span class="op">=</span> <span class="va">spec</span>, conf_level <span class="op">=</span> <span class="fl">0.95</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 9 × 6</span></span>
<span><span class="co">#&gt;   predictor outcome estimate std.error conf.low conf.high</span></span>
<span><span class="co">#&gt;   &lt;chr&gt;     &lt;chr&gt;      &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 white     dem_hum   0.225     0.0241   0.178     0.273 </span></span>
<span><span class="co">#&gt; 2 black     dem_hum   0.584     0.0601   0.467     0.702 </span></span>
<span><span class="co">#&gt; 3 other     dem_hum   2.92      0.744    1.47      4.38  </span></span>
<span><span class="co">#&gt; 4 white     rep_nix   0.435     0.0365   0.363     0.506 </span></span>
<span><span class="co">#&gt; 5 black     rep_nix  -0.0242    0.0367  -0.0962    0.0477</span></span>
<span><span class="co">#&gt; 6 other     rep_nix  -4.75      0.991   -6.69     -2.81  </span></span>
<span><span class="co">#&gt; 7 white     ind_wal   0.339     0.0197   0.300     0.377 </span></span>
<span><span class="co">#&gt; 8 black     ind_wal   0.437     0.0436   0.351     0.522 </span></span>
<span><span class="co">#&gt; 9 other     ind_wal   2.84      0.840    1.20      4.49</span></span></code></pre></div>
<p>This workflow is explained in more detail on the <a href="https://corymccartan.com/seine/articles/seine.html">Get Started</a> page, along with demonstrations of data preprocessing and sensitivity analysis.</p>
</div>
<div class="section level2">
<h2 id="name">Name<a class="anchor" aria-label="anchor" href="#name"></a>
</h2>
<p>In addition to being an acronym for “semiparametric ecological inference,” <strong>seine</strong> (pronounced SAYN) refers to a type of fishing net, which is used to catch fish like tuna in aggregate. A net also is visually similar to the tomography lines which are commonly used to visualize the interaction of the latent data and the accounting identity in 2×2 ecological inference.</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/CoryMcCartan/seine/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/CoryMcCartan/seine/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing seine</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Cory McCartan <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-6251-669X" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
<li>Shiro Kuriwaki <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0002-5687-2647" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/CoryMcCartan/seine/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/CoryMcCartan/seine/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Cory McCartan, Shiro Kuriwaki.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
